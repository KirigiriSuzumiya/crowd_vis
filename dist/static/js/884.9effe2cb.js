(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[884],{3884:function(t,a,e){"use strict";e.r(a),e.d(a,{default:function(){return P}});var s=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"main"}},[a("div",{attrs:{id:"title"}},[a("dv-decoration-11",{attrs:{id:"head"}},[a("dv-decoration-7",[a("h1",[t._v("人流量可视化大屏")])])],1)],1),a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"left"}},[a("div",{attrs:{id:"selector"}},[a("dv-border-box-12",{staticStyle:{padding:"10%"},attrs:{color:["#0088ff","#80f4ff"],backgroundColor:"rgba(255,255,255,0.2)"}},[a("div",{attrs:{id:"leftborder"}},[a("p",[t._v(" "),a("i",{staticClass:"fa fa-video-camera",attrs:{"aria-hidden":"true"}}),t._v(" 视频线路选择")])]),a("dv-decoration-3",{staticStyle:{width:"100%",height:"10%"}}),a("div",{attrs:{id:"routes"}},[a("div",{attrs:{id:"quarter"}},[a("selector",{scopedSlots:t._u([{key:"num",fn:function(){return[a("p",[t._v("线路一")])]},proxy:!0}])})],1),a("div",{attrs:{id:"quarter"}},[a("selector",{scopedSlots:t._u([{key:"num",fn:function(){return[a("p",[t._v("线路二")])]},proxy:!0}])})],1),a("div",{attrs:{id:"quarter"}},[a("selector",{scopedSlots:t._u([{key:"num",fn:function(){return[a("p",[t._v("线路三")])]},proxy:!0}])})],1),a("div",{attrs:{id:"quarter"}},[a("selector",{scopedSlots:t._u([{key:"num",fn:function(){return[a("p",[t._v("线路四")])]},proxy:!0}])})],1)])],1)],1),a("div",{attrs:{id:"alarm"}},[a("dv-border-box-12",{staticStyle:{padding:"10%"},attrs:{color:["#0088ff","#80f4ff"],backgroundColor:"rgba(255,255,255,0.2)"}},[a("div",{attrs:{id:"leftborder"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("p",[t._v(" "),a("i",{staticClass:"fa fa-warning",attrs:{"aria-hidden":"true"}}),t._v(" 警报处理")])]),a("div",{staticClass:"col-5"},[a("router-link",{staticStyle:{float:"right"},attrs:{to:"/alarm"}},[a("p",[t._v(" 跳转 "),a("i",{staticClass:"fa fa-mail-forward",attrs:{"aria-hidden":"true"}})])])],1)])]),a("div",{attrs:{id:"info"}},[a("toasts")],1)])],1)]),a("div",{attrs:{id:"middle"}},[a("div",{attrs:{id:"video"}},[a("dv-border-box-6",{staticStyle:{padding:"0%"},attrs:{color:["#00aaff","#80f4ff"],backgroundColor:"rgba(255,255,255,0.2)"}},[a("img",{attrs:{id:"img",src:"http://localhost:8000/video/1"}})])],1),a("div",{attrs:{id:"bar"}},[a("dv-border-box-10",{attrs:{color:["#0055ff","#80f4ff"],backgroundColor:"rgba(255,255,255,0.2)"}},[a("div",{attrs:{id:"barcontent"}},[a("bar")],1)])],1)]),a("div",{attrs:{id:"right"}},[a("div",{attrs:{id:"panel"}},[a("dv-border-box-12",{staticStyle:{padding:"10%"},attrs:{color:["#0088ff","#80f4ff"],backgroundColor:"rgba(255,255,255,0.2)"}},[a("div",{attrs:{id:"leftborder"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("p",[t._v(" "),a("i",{staticClass:"fa fa-street-view",attrs:{"aria-hidden":"true"}}),t._v(" 全天人流量")])]),a("div",{staticClass:"col-5"},[a("router-link",{staticStyle:{float:"right"},attrs:{to:"/traffic"}},[a("p",[t._v(" 跳转 "),a("i",{staticClass:"fa fa-mail-forward",attrs:{"aria-hidden":"true"}})])])],1)])]),a("panel")],1)],1),a("div",{attrs:{id:"pie"}},[a("dv-border-box-12",{staticStyle:{padding:"10%"},attrs:{color:["#0088ff","#80f4ff"],backgroundColor:"rgba(255,255,255,0.2)"}},[a("div",{attrs:{id:"piecontent"}},[a("pie")],1)])],1)])])])},i=[],r=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("button",{attrs:{id:"video"}},[a("dv-loading",[t._t("num")],2)],1)},o=[],d=e(9593),n=e.n(d),l=n(),c=e(1001),v=(0,c.Z)(l,r,o,!1,null,"55343f38",null),f=v.exports,h=function(){var t=this,a=t._self._c;return a("div",t._l(t.content,(function(e){return a("div",[a("dv-border-box-7",{attrs:{id:"container",color:["#45C2E0","#C1EBDD"]}},[a("div",{attrs:{id:"block1"}},[a("div",{attrs:{id:"index"}},[a("p",[t._v(t._s(e.camera_id)+"号摄像头")])]),a("div",{attrs:{id:"type"}},[a("p",[t._v(t._s(e.warn_type))])])]),a("div",{attrs:{id:"block2"}},[a("div",{attrs:{id:"time1"}},[a("p",[t._v("警报时间:")])]),a("div",{attrs:{id:"time2"}},[a("p",[t._v(t._s(e.warn_time))])])]),a("div",{attrs:{id:"description"}},[a("p",[t._v(t._s(e.warn_description))])]),a("div",{staticStyle:{"text-align":"right"}},[e.id==t.showModel?a("h7",[t._v("已删除 ")]):t._e(),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.show(e.id)}}},[a("p",[t._v("处理")])])],1)])],1)})),0)},u=[],p=e(9378),_={components:{popup:p.Z},data(){return{content:null,showModel:0}},created(){this.getdata()},mounted(){this.refreshdata=setInterval((()=>{this.getdata()}),2e3)},destroyed(){clearInterval(this.refreshdata),this.refreshdata=null},methods:{getdata(){this.axios.get("http://localhost:8000/api/warn/").then((t=>{this.content=t.data.result})),this.showModel=0},show(t){this.showModel=t,this.axios.get("http://localhost:8000/api/warn/",{params:{id:t}}).then((t=>{this.content=t.data.result}))}}},g=_,b=(0,c.Z)(g,h,u,!1,null,"4035671e",null),m=b.exports,C=function(){var t=this,a=t._self._c;return a("e-charts",{staticClass:"chart",attrs:{option:t.option}})},y=[],w={data(){return{option:{color:["#45C2E0","#C1EBDD","#FFC851","#FF9393"],tooltip:{trigger:"axis"},legend:{data:["总人流","在镜人流","入口人流","出口人流"],textStyle:{show:!0,color:"#ffffff",fontSize:10}},grid:{left:"3%",right:"4%",top:"15%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLabel:{show:!0,color:"#ffffff",fontSize:10}},yAxis:{type:"value",axisLabel:{show:!0,color:"#ffffff",fontSize:10}},series:[{name:"在镜人流",type:"line",stack:"Total",data:[]},{name:"入口人流",type:"line",stack:"Total",data:[]},{name:"出口人流",type:"line",stack:"Total",data:[]}]}}},created(){this.getdata()},mounted(){this.refreshdata=setInterval((()=>{this.getdata()}),2e3)},destroyed(){clearInterval(this.refreshdata),this.refreshdata=null},methods:{getdata(){this.axios.get("http://localhost:8000/graph_vis_vue").then((t=>{this.content=t.data})),this.option.xAxis.data=this.content.line.time.reverse(),this.option.series[0].data=this.content.line.vis.reverse(),this.option.series[1].data=this.content.line.in.reverse(),this.option.series[2].data=this.content.line.out.reverse()}}},x=w,k=(0,c.Z)(x,C,y,!1,null,null,null),S=k.exports,Z=function(){var t=this,a=t._self._c;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{attrs:{id:"cards"}},[a("div",{attrs:{id:"card"}},[t._v(t._s(t.content[8]))]),a("div",{attrs:{id:"card"}},[t._v(t._s(t.content[7]))]),a("div",{attrs:{id:"card"}},[t._v(t._s(t.content[6]))]),a("div",{attrs:{id:"card"}},[t._v(t._s(t.content[5]))]),a("div",{attrs:{id:"card"}},[t._v(t._s(t.content[4]))])]),a("dv-decoration-1",{staticStyle:{width:"100%",height:"20%"}}),a("div",{attrs:{id:"nums"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("span",{attrs:{id:"left"}},[t._v("场所流量: ")]),a("span",{attrs:{id:"right"}},[t._v(t._s(t.content[0]))])]),a("div",{staticClass:"col-6"},[a("span",{attrs:{id:"left"}},[t._v("可视流量: ")]),a("span",{attrs:{id:"right"}},[t._v(t._s(t.content[3]))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("span",{attrs:{id:"left"}},[t._v("入口流量: ")]),a("span",{attrs:{id:"right"}},[t._v(t._s(t.content[1]))])]),a("div",{staticClass:"col-6"},[a("span",{attrs:{id:"left"}},[t._v("出口流量: ")]),a("span",{attrs:{id:"right"}},[t._v(t._s(t.content[2]))])])])])],1)},I=[],M={data(){return{content:null}},created(){this.getdata()},mounted(){this.refreshdata=setInterval((()=>{this.getdata()}),2e3)},destroyed(){clearInterval(this.refreshdata),this.refreshdata=null},methods:{getdata(){this.axios.get("http://localhost:8000/num_count").then((t=>{this.content=t.data}))}}},D=M,E=(0,c.Z)(D,Z,I,!1,null,"eec017ce",null),F=E.exports,z=function(){var t=this,a=t._self._c;return a("e-charts",{staticClass:"chart",attrs:{option:t.option}})},B=[],q={data(){return{option:{color:["#45C2E0","#C1EBDD","#FFC851"],tooltip:{trigger:"item"},legend:{textStyle:{show:!0,color:"#ffffff",fontSize:10}},series:[{label:{color:"#ffffff",fontSize:10},type:"pie",radius:"40%",data:[{value:null,name:"滞留量"},{value:null,name:"流入量"},{value:null,name:"流出量"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},created(){this.getdata()},mounted(){this.refreshdata=setInterval((()=>{this.getdata()}),2e3)},destroyed(){clearInterval(this.refreshdata),this.refreshdata=null},methods:{getdata(){this.axios.get("http://localhost:8000/graph_vis_vue").then((t=>{this.content=t.data})),this.option.series[0].data[0].value=this.content.pie.keep,this.option.series[0].data[1].value=this.content.pie.in,this.option.series[0].data[2].value=this.content.pie.out}}},A=q,L=(0,c.Z)(A,z,B,!1,null,null,null),T=L.exports,G={components:{selector:f,toasts:m,bar:S,panel:F,pie:T}},N=G,O=(0,c.Z)(N,s,i,!1,null,"1bb9882e",null),P=O.exports},9378:function(t,a,e){"use strict";e.d(a,{Z:function(){return l}});var s=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showModel,expression:"showModel"}],staticClass:"model"},[a("div",{staticClass:"mask"}),a("div",{staticClass:"model-dialog"},[t._m(0),t._m(1),a("div",{staticClass:"model-footer"},[a("button",{staticClass:"btn",on:{click:function(a){return t.$emit("clear")}}},[t._v("确认")])])])])},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"model-header"},[a("span",[t._v("提示")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"model-body"},[a("div",{staticClass:"body"},[t._v("处理成功！")])])}],r={props:{showModel:Boolean}},o=r,d=e(1001),n=(0,d.Z)(o,s,i,!1,null,"529fb2fa",null),l=n.exports},9593:function(){}}]);
//# sourceMappingURL=884.9effe2cb.js.map